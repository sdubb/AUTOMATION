# Activepieces Integration Configuration
# Copy this file to .env and fill in your Activepieces VM details

# ==========================================
# ACTIVEPIECES VM CONNECTION
# ==========================================

# Your Activepieces instance URL (running on VM)
# Example: http://192.168.1.100:3000/api or http://activepieces.example.com/api
VITE_ACTIVEPIECES_URL=http://localhost:3000/api

# Activepieces API key (get from Settings → API Keys)
# Example: ap_xxxxxx... (45 character key)
VITE_ACTIVEPIECES_API_KEY=ap_your_api_key_here

# ==========================================
# FRONTEND CONFIG
# ==========================================

# Frontend base URL (for webhook callbacks)
VITE_FRONTEND_URL=http://localhost:5173

# Webhook base URL (where Activepieces sends events)
VITE_WEBHOOK_BASE_URL=http://localhost:5173/webhooks

# ==========================================
# OPTIONAL: SUPABASE (for storing user configs)
# ==========================================

VITE_SUPABASE_URL=https://your-project.supabase.co
VITE_SUPABASE_ANON_KEY=your_anon_key

# ==========================================
# NOTES
# ==========================================

# To get Activepieces API Key:
# 1. SSH into your VM: ssh user@vm-ip
# 2. Open browser to: http://vm-ip:3000
# 3. Login as admin
# 4. Go to Settings → API Keys
# 5. Copy the API key and paste below

# For production:
# 1. Replace localhost:3000 with your VM's actual IP or domain
# 2. Use HTTPS URLs if available
# 3. Store API key in secure environment (not in .env)


# Or local PostgreSQL
DATABASE_URL=postgresql://user:password@localhost:5432/mcp_db

# ==========================================
# AUTH & SECURITY
# ==========================================

# JWT secret for signing MCP tokens
JWT_SECRET=your_jwt_secret_key_change_me

# Enable MCP auth (true/false)
MCP_AUTH_ENABLED=true

# Rate limit per minute (requests per user)
MCP_RATE_LIMIT=60

# ==========================================
# LOGGING
# ==========================================

# Log level: debug, info, warn, error
LOG_LEVEL=info

# Enable detailed MCP execution logging
MCP_DEBUG=false

# ==========================================
# OPTIONAL: WEBHOOK SETTINGS
# ==========================================

# Webhook secret for Activepieces callbacks
WEBHOOK_SECRET=your_webhook_secret

# Webhook retry attempts
WEBHOOK_RETRY_ATTEMPTS=3

# ==========================================
# OPTIONAL: CORS & SECURITY
# ==========================================

# Allowed origins for MCP requests
CORS_ORIGINS=http://localhost:3000,http://localhost:5173

# Enable HTTPS only (set to true in production)
FORCE_HTTPS=false
